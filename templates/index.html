<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ profile.name }} - {{ page.portfolio }}</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Josefin+Sans:wght@300;400&display=swap&family=Rubik:wght@300;400&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="stylesheet" href="/static/modals.css">
    <link rel="stylesheet" href="/static/adaptive.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link rel="stylesheet" href="/static/prism-synthwave84.css">

</head>
<body>

<nav class="navigator">
    <div class="navigator-content">
        <div><a href="#about" class="nav-link">{{ page.about }}</a></div>
        {% for project in projects %}
        <div><a href="#project-{{ loop.index }}" class="nav-link">{{ project.title or '---' }}</a></div>
        {% endfor %}
    </div>
</nav>

<div class="code-background">
    <pre><code class="language-javascript" id="background-code"></code></pre>
</div>

<div class="container">

    <div class="language-selector">
        <a href="/?lang=en" class="lang {% if request.lang == 'en' %}active{% endif %}">EN</a> /
        <a href="/?lang=ru" class="lang {% if request.lang == 'ru' %}active{% endif %}">РУС</a>
    </div>

    <h1 class="top-intro">{{ page.greeting }}</h1>
    <h1 class="top-name">{{ profile.name }}</h1>

    <div class="infoblock-alter" id="about">
        <div class="innerblock">
            <div class="profile">
                <div>
                    <div class="title">{{ profile.title }}</div>
                    <div class="description">{{ profile.description }}</div>
                </div>
                <div class="avatar">
                    <img src="{{ profile.avatar }}" alt="avatar" class="avatar-img">
                </div>
            </div>
        </div>


        <div class="title p20">{{ page.skills }}</div>
        <div class="stack">
            {% for skill in profile.skills %}
            <span class="stack-tag"><i class="{{ skill.icon }}"></i> {{ skill.name }}</span>
            {% endfor %}
        </div>

        <div class="contacts">
            {% include "contacts.html" %}
        </div>

    </div>

    <h1>{{ page.showcases }}</h1>
    {% for project in projects %}
    {% set project_loop = loop %}

    <div class="infoblock {% if loop.index % 2 == 1 %}infoblock-alter{% endif %}" id="project-{{ loop.index }}">

        <div class="innerblock">
            <div class="title" id="{{ project.id }}">{{ project.title or '---' }}</div>

            <h3>{{ page.overview }}</h3>
            <div class="overview">{{ project.overview }}</div>

            {% if project.images %}
            <div class="slider">
                {% if project.image_count > 1 %}
                <button class="slider-btn prev-btn" onclick="moveSlide({{ loop.index }}, -1)">&#10094;</button>
                {% endif %}

                <div class="slides" id="slides-{{ loop.index }}">
                    {% for img in project.images %}
                    <img src="{{ img }}"
                         alt="Project image"
                         class="slide-image"
                         height="500"
                         width="600"
                         loading="lazy"
                         onclick="openModal({{ project_loop.index }}, {{ loop.index0 }})">
                    {% endfor %}
                </div>

                {% if project.image_count > 1 %}
                <button class="slider-btn next-btn" onclick="moveSlide({{ loop.index }}, 1)">&#10095;</button>
                {% endif %}
            </div>
            {% endif %}

            {% if project.roles or project.duration %}
            <div class="meta">
                {% if project.duration %}<span>{{ page.duration }}: {{ project.duration }}</span>{% endif %}
                {% if project.roles %}<span>{{ page.featuring }}: {{ project.roles | join(', ') }}</span>{% endif %}
            </div>
            {% endif %}
        </div>

        <div class="stack">
            {% for item in project.stack %}
            <span class="stack-tag"><i class="{{ item.icon }}"></i> {{ item.name }}</span>
            {% endfor %}
        </div>

        <div class="innerblock">

            <div class="features">
                <h3 class="dropdown-toggle"><i class="fas fa-angle-right"></i> {{ page.dev_features }}</h3>
                <ul class="dropdown-content">
                    {% for feature in project.development_features %}
                    <li>{{ feature }}</li>
                    {% endfor %}
                </ul>
            </div>

            {% if project.devops_features %}
            <div class="features">
                <h3 class="dropdown-toggle"><i class="fas fa-angle-right"></i> {{ page.devops_features }}</h3>
                <ul class="dropdown-content">
                    {% for feature in project.devops_features %}
                    <li>{{ feature }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}

        </div>

    </div>
    {% endfor %}

    <div class="contacts contacts-bottom">
        {% include "contacts.html" %}
        <div class="meta">{{ page.made_by }}</div>
    </div>

</div>

<div class="modal" id="imageModal">
    <span class="modal-close" onclick="closeModal()">&times;</span>
    <div class="modal-slider">
        <button class="slider-btn modal-btn prev-btn" onclick="moveModalSlide(-1)">&#10094;</button>
        <div class="modal-slides" id="modalSlides"></div>
        <button class="slider-btn modal-btn next-btn" onclick="moveModalSlide(1)">&#10095;</button>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="/static/scripts.js"></script>
</body>
</html>